==================== Changes in man-pages-3.07 ====================

Released: 2008-08-??, Konolfingen


Contributors
------------

The following people contributed notes, ideas, or patches that have
been incorporated in changes in this release:

Alain Portal <aportal@univ-montp2.fr>
Andries Brouwer <Andries.Brouwer@cwi.nl>
Fabian Kreutz <kreutz@dbs.uni-hannover.de>
Filippo Santovito <filippo.santovito@email.it>
Gerrit Renker <gerrit@erg.abdn.ac.uk>
Heikki Orsila <shd@modeemi.cs.tut.fi>
Khalil GHORBAL <khalil.ghorbal@cea.fr>
Lee Schermerhorn <lee.schermerhorn@hp.com>
Maxin John <maxin.john@gmail.com>
Reuben Thomas <rrt@sc3d.org>
Samuel Thibault <samuel.thibault@ens-lyon.org>
Sam Varshavchik <mrsam@courier-mta.com>
Soh Kam Yung <sohkamyung@gmail.com>
Stephane Chazelas <stephane_chazelas@yahoo.fr>
Pavel Heimlich <tropikhajma@seznam.cz>
Reuben Thomas <rrt@sc3d.org>

Apologies if I missed anyone!


New and rewritten pages
-----------------------

clock_getcpuclockid.3
    mtk
        New page documenting the clock_getcpuclockid() library function,
	available since glibc 2.2.

udplite.7
    Gerrit Renker
	Document the Linux implementation of the UDP-Lite protocol,
	new in Linux 2.6.20.


New and changed links
---------------------


Global changes
--------------

nanosleep.2
inet_ntop.3
inet_pton.3
scanf.3
initrd.4
    mtk
        Fix mis-ordered (.SH) sections.

connect.2
socket.2
rtnetlink.3
arp.7
ddp.7
ip.7
ipv6.7
netlink.7
packet.7
raw.7
rtnetlink.7
socket.7
tcp.7
udp.7
unix.7
x25.7
    mtk
        s/PF_/AF_/ for socket family constants.  Reasons: the AF_ and
	PF_ constants have always had the same values; there never has
	been a protocol family that had more than one address family,
	and POSIX.1-2001 only specifies the AF_* constants.


Typographical or grammatical errors have been corrected in several
other places.


Changes to individual pages
---------------------------

execve.2
    mtk
        The floating-point environment is reset to the default
	during an execve().

getitimer.2
    mtk
        CONFORMING TO: POSIX.1-2008 marks getitimer() and setitimer()
    	obsolete.

get_mempolicy.2
    Lee Schermerhorn
        Misc cleanup of get_mempolicy(2):
	+ mention that any mode flags will be saved with mode.
	  I don't bother to document mode flags here because we
	  already have a pointer to set_mempolicy(2) for more info
	  on memory policy.  mode flags are discussed there.
	+ remove some old, obsolete [IMO] NOTES and 'roff comments.
    Lee Schermerhorn
        Update the get_mempolicy(2) man page to add in the description of
        the MPOL_F_MEMS_ALLOWED flag, added in 2.6.23.
    mtk
        Document additional EINVAL error that occurs is MPOL_F_MEMS_ALLOWED
        is specified with either MPOL_F_ADDR or MPOL_F_NODE.

mbind.2
    Lee Schermerhorn
        Fix error conditions, now that the kernel silently ignores
	nodes outside the task's cpuset, as long as one valid node
	remains.

	Now that cpuset man page exists, we can refer to it.  Remove
	stale comment regarding lack thereof.
    Lee Schermerhorn
        Add brief discussion of mode flags.
    Lee Schermerhorn
 	Attempt to clarify discussion of MPOL_DEFAULT.
    mtk
        Fix URI reference for libnuma.

mprotect.2
    mtk / Maxin John
        Remove EFAULT from errors.  Under ENOMEM error, note that
	EFAULT was the error produced in some cases for kernels before
	2.4.19.
     
msgctl.2
    mtk, after a note from Filippo Santovito
        In the ipc_perm structure definition, some fields were
	incorrectly named: s/key/__key/ and s/seq/__seq/.

set_mempolicy.2
    Lee Schermerhorn
        Fix up the error return for nodemask containing nodes disallowed by
	the process' current cpuset.  Disallowed nodes are now silently ignored,
	as long as the nodemask contains at least one node that is on-line,
	allowed by the process' cpuset and has memory.

	Now that we have a cpuset man page, we can refer to cpusets directly
	in the man page text. 

    Lee Schermerhorn
        Another attempt to rationalize description of MPOL_DEFAULT.

	Since ~2.6.25, the system default memory policy is "local allocation".
	MPOL_DEFAULT itself is a request to remove any non-default policy and
	"fall back" to the surrounding context.  Try to say that without delving
	into implementation details.

    Lee Schermerhorn
	Add discussion of mempolicy mode flags to set_mempolicy(2).
	This adds another reason for EINVAL.

setpgid.2
    mtk
        CONFORMING TO: POSIX.1-2008 marks setpgrp() obsolete.

semctl.2
    mtk, after a note from Filippo Santovito
        In the ipc_perm structure definition, some fields were
	incorrectly named: s/key/__key/ and s/seq/__seq/.

shmctl.2
    Filippo Santovito / mtk
        In the ipc_perm structure definition, some fields were
	incorrectly named: s/key/__key/ and s/seq/__seq/.

utime.2
    mtk
        CONFORMING TO: POSIX.1-2008 marks utime() obsolete.
	CONFORMING TO: POSIX.1-2008 removes the POSIX.1-2001 LEGACY
	marking of utimes(), so mention of this point has been
	removed from the page.

vfork.2
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification of vfork().  

atan2.3
    Fabian Kreutz
        SEE ALSO Add carg(3).

bcmp.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification of bcmp().  

bsd_signal.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification ofcw
       	bsd_signal().  

bzero.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification of bzero().  

cexp2.3
    mtk
        AVAILABILITY: These functions are still not in glibc
	as at version 2.8.

clock_getres.3
    mtk
         SEE ALSO: Add clock_getcpuclockid(3).

clog2.3
    mtk
        AVAILABILITY: These functions are still not in glibc
	as at version 2.8.

ctime.3
    mtk
        POSIX.1-2008 marks asctime(), asctime_r(), ctime(), and ctime_r()
    	as obsolete.

dprintf.3
    mtk
       CONFORMING TO: These functions are nowadays in POSIX.1-2008.

ecvt.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specifications of
	ecvt() and fcvt().

ftime.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification of ftime().  

ftw.3
    mtk
        CONFORMING TO: POSIX.1-2008 marks ftw() as obsolete.

gcvt.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification of gcvt().

getcwd.3
    Reueben Thomas / mtk
        Clarify description of getcwd() for buf==NULL case;
	CONFORMING TO: According to POSIX.1, the behavior of getcwd() 
        is unspecified for the buf==NULL case.
    mtk
        Add an introductory paragraph giving an overview of what these
	functions do.
	Fix error in description of getwd(): it does not truncate the
        pathname; rather, it gives an error if the pathname exceeds
	PATH_MAX bytes.
        Rewrote RETURN VALUE section.
        Add EINVAL ENAMETOOLONG errors for getwd().
	Various other clarifications and wording fixes.
	CONFORMING TO: POSIX.1-2001 does not define any errors for
	getwd().
        CONFORMING TO: POSIX.1-2008 removes the specification of getwd().

gethostbyname.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specifications of
	gethostbyname(), gethostbyaddr(), and h_errno.

gets.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification of gets().

iconv.3
iconv_close.3
iconv_open.3
    mtk
        VERSIONS: These functions are available in glibc since version 2.1.

index.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specifications of
	index() and rindex().

isalpha.3
    mtk
        CONFORMING TO: POSIX.1-2008 marks isalpha() as obsolete.

makecontext.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specifications of
	makecontext() and swapcontext().

memchr.3
    mtk
        VERSIONS: memrchr() since glibc 2.2; rawmemchr() since glibc 2.1.

mempcpy.3
    mtk
        VERSIONS: mempcpy() since glibc 2.1.

mktemp.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification of mktemp().

nextafter.3
    mtk
        BUGS: In glibc 2.5 and earlier these functions do not raise an
	FE_UNDERFLOW exception on underflow. 

opendir.3
    mtk
        CONFORMING TO: POSIX.1-2008 specifies fdopendir().

rand.3
    mtk
        CONFORMING TO: POSIX.1-2008 marks rand_r() as obsolete.

siginterrupt.3
    mtk
        CONFORMING TO: POSIX.1-2008 marks siginterrupt() as obsolete.

sigset.3
    mtk
        CONFORMING TO: POSIX.1-2008 marks sighold(), sigignore(),
	sigpause(), sigrelse(), and sigset() as obsolete.

strchr.3
    mtk
	VERSIONS: strchrnul() since glibc 2.1.1.

tempnam.3
    mtk
        CONFORMING TO: POSIX.1-2008 marks tempnam() as obsolete.

tmpnam.3
    mtk
        CONFORMING TO: POSIX.1-2008 marks tmpnam() as obsolete.

toascii.3
    mtk
        CONFORMING TO: POSIX.1-2008 marks toascii() as obsolete.

ualarm.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification of ualarm().

ulimit.3
    mtk
        CONFORMING TO: POSIX.1-2008 marks ulimit() as obsolete.

usleep.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification of usleep().

standards.7
    mtk
        Updated details for POSIX.1-2008, and noted that if
	POSIX.1-2001 is listed in the CONFORMING TO section of a man
	page, then the read can assume that the interface is also
	specified in POSIX.1-2008, unless otherwise noted.

time.7
    mtk
         SEE ALSO: Add clock_getcpuclockid(3).

udp.7
    mtk
        SEE ALSO: add udplite(7).


Changes to individual pages (math functions)
--------------------------------------------

Various changes here following on from the big update to the
math pages in the previous release.  Test results going back
glibc 2.3.2 (so far) allowed updates to various pages to note
changes in historical behavior for error reporting by math
functions.  Thanks to the following people for providing me
with test results on various distributions and glibc versions:
Alain Portal, Andries Brouwer, Fabian Kreutz, Heikki Orsila, 
Khalil GHORBAL, Pavel Heimlich, Reuben Thomas, Samuel Thibault, 
Soh Kam Yung, and Stephane Chazelas

cabs.3
cacos.3
cacosh.3
carg.3
casin.3
casinh.3
catan.3
catanh.3
ccos.3
ccosh.3
cexp.3
cimag.3
clog.3
clog10.3
conj.3
cpow.3
cproj.3
creal.3
csin.3
csinh.3
csqrt.3
ctan.3
ctanh.3
exp10.3
exp2.3
fdim.3
fenv.3
fma.3
fmax.3
fmin.3
log2.3
lrint.3
lround.3
nan.3
pow10.3
remquo.3
round.3
scalbln.3
sincos.3
tgamma.3
trunc.3
    mtk
        Added VERSIONS section noting that these functions first
	appeared in glibc in version 2.1.

cosh.3
    mtk
        BUGS: In glibc 2.3.4 and earlier, an FE_OVERFLOW exception is not
	raised when an overflow occurs.

fenv.3
    mtk / Fabian Kreuz
        Provide more detail in the description of rounding modes.
	Add text describing FLT_ROUNDS (formerly in fma.3).
        Add BUGS section pointing out the FLT_ROUNDS does not reflect
	changes by fesetround().	

fma.3
    mtk
        Remove text about FLT_ROUNDS, replacing with a cross-reference
	to fenv(3).

fpclassify.3
    mtk
        CONFORMING TO: Note that the standards provide a weaker guarantee
	for the return value of isinf().

log.3
    mtk
        BUGS: In glibc 2.5, log(nan("")) produces a bogus
	FE_INVALID exception.

lround.3
    mtk
	Add reference to fenv(3) for discussion of current rounding mode.

pow.3
    mtk
        BUGS: described buggy NaN return when x is negative and y is large.
	See also: http://sources.redhat.com/bugzilla/show_bug.cgi?id=3866.
	BUGS: Note the bogus FE_INVALID exception that occurred in glibc
	2.3.2 and earlier on overflow and underflow.

remainder.3
    mtk
	Add reference to fenv(3) for discussion of current rounding mode.

round.3
    mtk
	Add reference to fenv(3) for discussion of current rounding mode.

scalb.3
    mtk
        CONFORMING TO: POSIX.1-2008 removes the specification of scalb().

tgamma.3
    mtk
    	BUGS: In glibc 2.3.3, tgamma(+-0) produced a domain error
	instead of a pole error.

y0.3
    mtk
        In glibc 2.3.2 and earlier, these functions do not raise an
	FE_INVALID exception for a domain error.

math_error.7
    mtk
        Rewrite introductory paragraph.
	Point out that a NaN is commonly returned by functions that report
	a domain error.
