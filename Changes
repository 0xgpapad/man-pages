==================== Changes in man-pages-3.83 ====================

Released: 2015-04-19, Munich


Contributors
------------

The following people contributed patches/fixes or (noted in brackets
in the changelog below) reports, notes, and ideas that have been
incorporated in changes in this release:

Andreas Baak <andreas.baak@gmail.com>
Andreas Dilger <adilger@dilger.ca>
cdlscpmv <cdlscpmv@gmail.com>
Cyrill Gorcunov <gorcunov@openvz.org>
Darrick J. Wong <darrick.wong@oracle.com>
David Rientjes <rientjes@google.com>
Dima Tisnek <dimaqq@gmail.com>
Eric Sandeen <sandeen@redhat.com>
Fabien Pichot <fpichot@bouledef.eu>
Felix Sedlmeier <sedlmeier@gmx.de>
Gleb Fotengauer-Malinovskiy <glebfm@altlinux.org>
Heinrich Schuchardt <xypron.glpk@gmx.de>
Jann Horn <jann@thejh.net>
Jon Grant <jg@jguk.org>
Jonny Grant <jg@jguk.org>
Kees Cook <keescook@chromium.org>
Masanari Iida <standby24x7@gmail.com>
Ma Shimiao <mashimiao.fnst@cn.fujitsu.com>
Michael Kerrisk <mtk.manpages@gmail.com>
Nikos Mavrogiannopoulos <nmav@gnutls.org>
Omar Sandoval <osandov@osandov.com>
Pierre Chifflier <pollux@debian.org>
Robin H. Johnson <robbat2@gentoo.org>
Rob Landley <rob@landley.net>
Theodore Ts'o <tytso@mit.edu>
Vlastimil Babka <vbabka@suse.cz>
Walter Harms <wharms@bfs.de>
William Woodruff <william@tuffbizz.com>
YOSHIFUJI Hideaki <hideaki.yoshifuji@miraclelinux.com>
Zeng Linggang <zenglg.jy@cn.fujitsu.com>

Apologies if I missed anyone!


New and rewritten pages
-----------------------

posix_madvise.3
    Michael Kerrisk
        New page documenting posix_madvise(3)

ftw.3
    Michael Kerrisk
        Reorganize the page to give primacy to nftw()
            nftw() is the better API, and POSIX.1-2008 marks ftw() obsolete.

Newly documented interfaces in existing pages
---------------------------------------------

getdents.2
    Michael Kerrisk
        Document getdents64()

mount.2
    Michael Kerrisk, Theodore Ts'o  [Eric Sandeen, Andreas Dilger,
    Omar Sandoval, Darrick J. Wong]
        Document MS_LAZYTIME
            Based on Ted T'so's commit message 0ae45f63d4e

proc.5
    Michael Kerrisk
        Document /proc/sys/kernel/randomize_va_space
    Michael Kerrisk
        Document /proc/PID/fdinfo epoll format
    Michael Kerrisk
        Describe /proc/PID/fdinfo eventfd format
    Michael Kerrisk
        Document /proc/PID/fdinfo signalfd format


New and changed links
---------------------

newfstatat.2
    Michael Kerrisk
        New link to fstatat64.2

prlimit64.2
    Michael Kerrisk
        New link to getrlimit.2


Global changes
--------------

Various secion 3 math pages
    Michael Kerrisk
        Note that these functions are also in POSIX.1-2001 and POSIX.1-2008


Changes to individual pages
---------------------------

getent.1
    Robin H. Johnson
        Document options
            The options to getent are now documented, after being around for
            nearly a decade without changes.
    Michael Kerrisk
        Document help and version options

fallocate.2
    Michael Kerrisk
        Fix kernel version number for FALLOC_FL_ZERO_RANGE
            FALLOC_FL_ZERO_RANGE as added in 3.15, not 3.14.
    Michael Kerrisk
        Note that SMB3 added FALLOC_FL_ZERO_RANGE support in Linux 3.17

getdents.2
    Michael Kerrisk  [Dima Tisnek]
        Update timestamp
            Really just a marker to record the reporters of bugs
            that stemmed from the fact that the page did not
            document getdents64(). I'll fix things up in the changelog.

            See https://bugzilla.kernel.org/show_bug.cgi?id=14795

getrlimit.2
    Michael Kerrisk
        Note that the underlying system call for prlimit() is prlimit64()
    Michael Kerrisk
        Remove "_FILE_OFFSET_BITS == 64" from prlimit() FTM requirements
            "_FILE_OFFSET_BITS == 64" is not needed to get the prlimit()
            declaration.

ioctl_list.2
    Nikos Mavrogiannopoulos
        SIOCADDRT accepts in6_rtmsg in INET6 protocol
    Heinrich Schuchardt
        TFD_IOC_SET_TICKS
            timerfd_create.2 mentions TFD_IOC_SET_TICKS. We should add it to
            ioctl_list.2, too.

llseek.2
    Michael Kerrisk
        Advise reader to use lseek(2) instead
    Michael Kerrisk
        llseek() exists on 32-bit platforms to support seeking to large offsets

madvise.2
    David Rientjes
        Specify MADV_REMOVE returns EINVAL for hugetlbfs
            madvise(2) actually returns with error EINVAL for MADV_REMOVE
            when used for hugetlb VMAs, not EOPNOTSUPP, and this has been
            the case since MADV_REMOVE was introduced in commit f6b3ec238d12
            ("madvise(MADV_REMOVE): remove pages from tmpfs shm backing
            store"). Specify the exact behavior.
    Michael Kerrisk
        SEE ALSO: add posix_madvise(2)

poll.2
    Michael Kerrisk  [Andreas Baak]
        SEE ALSO: add epoll(7)

posix_fadvise.2
    Michael Kerrisk
        Add "C library/kernel ABI differences" subsection

pread.2
    Michael Kerrisk
        Add "C library/kernel ABI differences" subsection

seccomp.2
    Michael Kerrisk  [Pierre Chifflier, Kees Cook]
        Note that seccomp_data is read-only

stat.2
    Michael Kerrisk
        Add some details on various "stat" versions
            Three versions of "stat" appeared on 32-bit systems,
            dealing with structures of different (increasing) sizes.
            Explain some of the details, and also note that the
            situation is simpler on modern 64-bit architectures.
    Michael Kerrisk
        Add a little more detail on history of three versions of *stat()
    Michael Kerrisk
        Add mention of newfstatat()
            The underlying system call for fstatat() is newfstatat()
            on some architectures.

symlink.2
    Michael Kerrisk  [Jonny Grant]
        ERRORS: add linkpath=="" case for ENOENT

syscalls.2
    Michael Kerrisk
        Remove prlimit()
            There really is only the prlimit64() system call.
            See also commit 7b08c45b7df.
    Michael Kerrisk
        Add some details about the "multiple versions of system calls"
            The multiple-system-call-version phenomenon is particular a
            feature of older 32-bit platforms. Hint at that fact in the text.

timerfd_create.2
    Cyrill Gorcunov  [Michael Kerrisk]
        Document TFD_IOC_SET_TICKS ioctl() operation
    Michael Kerrisk
        Add some details to C library/kernel ABI differences

unshare.2
    Michael Kerrisk  [Fabien Pichot]
        Remove mention of "System V" from discussion of CLONE_NEWIPC
            These days, CLONE_NEWIPC also affects POSIX message queues.

asprintf.3
    Zeng Linggang
        ATTRIBUTES: Note functions that are thread-safe

carg.3
    Michael Kerrisk
        Add introductory sentence explaining what these functions calculate

ccos.3
    Ma Shimiao
        ATTRIBUTES: Note functions that are thread-safe
    Michael Kerrisk
        Add introductory sentence explaining what these functions calculate

ccosh.3
    Michael Kerrisk
        Add introductory sentence explaining what these functions calculate

cexp.3
    Ma Shimiao
        ATTRIBUTES: Note functions that are thread-safe

clock.3
    Ma Shimiao
        ATTRIBUTES: Note functions that is thread-safe

clog.3
    Michael Kerrisk
        Add introductory sentence explaining what these functions calculate

csin.3
    Ma Shimiao
        ATTRIBUTES: Note functions that are thread-safe
    Michael Kerrisk
        Add introductory sentence explaining what these functions calculate

csinh.3
    Ma Shimiao
        ATTRIBUTES: Note functions that are thread-safe
    Michael Kerrisk
        Add introductory sentence explaining what these functions calculate

csqrt.3
    Ma Shimiao
        ATTRIBUTES: Note functions that are thread-safe
    Michael Kerrisk
        Simplify description of what  these functions calculate

ctan.3
    Ma Shimiao
        ATTRIBUTES: Note functions that are thread-safe
    Michael Kerrisk
        Add introductory sentence explaining what these functions calculate

ctanh.3
    Ma Shimiao
        ATTRIBUTES: Note functions that are thread-safe
    Michael Kerrisk
        Add introductory sentence explaining what these functions calculate

ctime.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

exec.3
    Michael Kerrisk
        SYNOPSIS: Clarify calling signature for execl() and execlp()
    Michael Kerrisk  [Andreas Baak]
        Correct prototype for execle()
            Make the prototype shown into correct C.

ftw.3
    Michael Kerrisk  [Felix Sedlmeier]
        ftw() and nftw() differ for the non-stat-able symlink case
            The POSIX specification of ftw() says that an un-stat-able
            symlink may yield either FTW_NS or FTW_SL. The specification
            of nftw() does not carry this statement.
    Michael Kerrisk
        CONFORMING TO: add POSIX.1-2008
    Michael Kerrisk
        Update POSIX version references in NOTES

getcwd.3
    Jann Horn  [Michael Kerrisk]
        Note behavior for unreachable current working directory
    Michael Kerrisk
        Add ENOMEM error

gethostbyname.3
    Michael Kerrisk  [Jonny Grant]
        Clarify that NO_ADDRESS and NO_DATA are synonyms
    Michael Kerrisk
        Add some detail for NO_DATA
            Text consistent with POSIX and FreeBSD's gethostbyname() man page.
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

getnetent.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

get_nprocs_conf.3
    Zeng Linggang
        ATTRIBUTES: Note functions that are thread-safe

getutent.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

glob.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

insque.3
    Ma Shimiao
        ATTRIBUTES: Note functions that are thread-safe

login.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

lseek64.3
    Michael Kerrisk
        Clarify details with respect to 32-bit and 64-bit systems

malloc.3
    Michael Kerrisk
        Add ENOMEM error

mbsnrtowcs.3
    Zeng Linggang
        ATTRIBUTES: Note function that isn't thread-safe

mbsrtowcs.3
    Zeng Linggang
        ATTRIBUTES: Note function that isn't thread-safe

mq_notify.3
    Michael Kerrisk
        Add "C library/kernel ABI differences" subsection

mq_open.3
    Michael Kerrisk  [Fabien Pichot]
        NOTES: explain differences from the underlying system call
            The check for the slash at the start of a pathname is done in glibc

openpty.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

perror.3
    Zeng Linggang
        ATTRIBUTES: Note function that is thread-safe

posix_memalign.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

printf.3
    Zeng Linggang
        ATTRIBUTES: Note functions that are thread-safe
    Walter Harms  [Michael Kerrisk]
        Simplify the example code

qsort.3
    Michael Kerrisk  [Rob Landley]
        alphasort() and versionsort() are not suitable for 'compar'
            In glibc 2.10, the prototypes of alphasort() and versionsort()
            were changed so that the arguments switched from 'const void *' to
            'const struct dirent **', to match the POSIX.1-2008 specification
            of alphasort(). As such, compiler warnings will result if
            these functions are used as the arguments of qsort().

                warning: passing argument 4 of 'qsort' from incompatible
                pointer type
                expected '__compar_fn_t' but argument is of type
                'int (*)(const struct dirent **, const struct dirent **)'

            Therefore, remove the ancient NOTES text suggesting that
            alphasort() and versionsort() can be used as suitable
            'compar' arguments for qsort().

realpath.3
    Michael Kerrisk  [Jon Grant]
        Add ENOMEM error

scandir.3
    Michael Kerrisk
        glibc 2.10 changed the argument types for alphasort() and versionsort()
    Zeng Linggang
        ATTRIBUTES: Note functions that are thread-safe

scanf.3
    Zeng Linggang
        ATTRIBUTES: Note functions that are thread-safe

setnetgrent.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

significand.3
    Ma Shimiao
        ATTRIBUTES: Note functions that are thread-safe

strcasecmp.3
    Michael Kerrisk  [Jonny Grant]
        Clarify that strcasecmp() does a byte-wise comparison
    Michael Kerrisk
        CONFORMING TO: add POSIX.1-2008

unlocked_stdio.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

updwtmp.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

wcrtomb.3
    Zeng Linggang
        ATTRIBUTES: Note function that isn't thread-safe

wcsnrtombs.3
    Zeng Linggang
        ATTRIBUTES: Note function that isn't thread-safe

wcsrtombs.3
    Zeng Linggang
        ATTRIBUTES: Note function that isn't thread-safe

wordexp.3
    Zeng Linggang
        ATTRIBUTES: Note functions that aren't thread-safe

wprintf.3
    Zeng Linggang
        ATTRIBUTES: Note functions that are thread-safe

proc.5
    Michael Kerrisk
        Describe "mnt_id" field of /proc/PID/fdinfo
    Michael Kerrisk
        Note that abstract sockets are included in /proc/net/unix
    Michael Kerrisk
        Update description /proc/sys/unix 'Type' field
            The existing text was very crufty. UNIX domain sockets
            support more than SOCK_STREAM for a _very_ long time now.
    Michael Kerrisk
        Add some detail to /proc/PID/timers
    Michael Kerrisk  [Vlastimil Babka]
        Enhance discussion of /proc/PID/status 'VmSwap' field
            Based on https://lwn.net/Articles/634978/

epoll.7
    Michael Kerrisk
        SEE ALSO: add poll(2) and select(2)

icmp.7
    YOSHIFUJI Hideaki/吉藤英明
        Document net.ipv4.ping_group_range knob

nptl.7
    Michael Kerrisk
        Add reference to timer_create(2)
