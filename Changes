==================== Changes in man-pages-5.13 ====================

Released: 2021-08-27, Christchurch

Ahelenia Ziemiańska (наб) <nabijaczleweli@nabijaczleweli.xyz>
Alan Peakall <Alan.Peakall@helpsystems.com>
Alejandro Colomar <alx.manpages@gmail.com>
Alexis Wilke <alexis@m2osw.com>
Askar Safin <safinaskar@mail.ru>
Christian Brauner <christian.brauner@ubuntu.com>
Christophe Leroy <christophe.leroy@csgroup.eu>
Christopher Yeleighton <giecrilj@stegny.2a.pl>
Cristian Morales Vega <christian.morales.vega@gmail.com>
Dan Robertson <dan@dlrobertson.com>
Darrick J. Wong <djwong@kernel.org>
Dominique Brazziel <dbrazziel@snet.net>
EmanueleTorre <torreemanuele6@gmail.com>
Eric W. Biederman <ebiederm@xmission.com>
G. Branden Robinson <g.branden.robinson@gmail.com>
Helge Kreutzmann <debian@helgefjell.de>
Jakub Wilk <jwilk@jwilk.net>
James O. D. Hunt <jamesodhunt@gmail.com>
Jonny Grant <jg@jguk.org>
Kees Cook <keescook@chromium.org>
Kir Kolyshkin <kolyshkin@gmail.com>
Kurt Kanzenbach <kurt@linutronix.de>
kXuan <kxuanobj@gmail.com>
Michael Kerrisk <mtk.manpages@gmail.com>
Michael Weiß <michael.weiss@aisec.fraunhofer.de>
NeilBrown <neilb@suse.de>
Nora Platiel <nplatiel@gmx.us>
Pali Rohár <pali@kernel.org>
Peter Collingbourne <pcc@google.com>
Richard Palethorpe <rpalethorpe@suse.com>
Rodrigo Campos <rodrigo@kinvolk.io>
Sagar Patel <sagarmp@cs.unc.edu>
Serge E. Hallyn <serge@hallyn.com>
Sergey Petrakov <kr@spmail.info>
Stefan Kanthak <stefan.kanthak@nexgo.de>
Štěpán Němec <stepnem@gmail.com>
Thomas Gleixner <tglx@linutronix.de>
Thomas Voss <thomasavoss@protonmail.com>
Viet Than <thanhoangviet@gmail.com>
Will Manley <will@williammanley.net>

Contributors
------------

The following people contributed patches/fixes or (noted in brackets
in the changelog below) reports, notes, and ideas that have been
incorporated in changes in this release:


Apologies if I missed anyone!


New and rewritten pages
-----------------------

mount_setattr.2
    Christian Brauner  [Alejandro Colomar, Michael Kerrisk]
        New manual page documenting the mount_setattr() system call


Newly documented interfaces in existing pages
---------------------------------------------

futex.2
    Kurt Kanzenbach  [Alejandro Colomar, Thomas Gleixner, Michael Kerrisk]
        Document FUTEX_LOCK_PI2

ioctl_tty.2
    Pali Rohár  [Alejandro Colomar, Michael kerrisk]
        Document ioctls: TCGETS2, TCSETS2, TCSETSW2, TCSETSF2

pidfd_open.2
    Michael Kerrisk
        Document PIDFD_NONBLOCK

seccomp_unotify.2
    Rodrigo Campos  [Alejandro Colomar]
        Document SECCOMP_ADDFD_FLAG_SEND

sigaction.2
    Peter Collingbourne  [Alejandro Colomar, Michael Kerrisk]
        Document SA_EXPOSE_TAGBITS and the flag support detection protocol

statx.2
    NeilBrown
        Document STATX_MNT_ID
capabilities.7
user_namespaces.7
    Michael Kerrisk, Kir Kolyshkin  [Alejandro Colomar]
        Describe CAP_SETFCAP for mapping UID 0

mount_namespaces.7
    Michael Kerrisk  [Christian Brauner, Eric W. Biederman]
        More clearly explain the notion of locked mounts
            For a long time, this manual page has had a brief discussion of
            "locked" mounts, without clearly saying what this concept is, or
            why it exists. Expand the discussion with an explanation of what
            locked mounts are, why mounts are locked, and some examples of the
            effect of locking.
user_namespaces.7
    Michael Kerrisk
        Document /proc/PID/projid_map

ld.so.8
    Michael Kerrisk
        Document --list-tunables option added in glibc 2.33


Global changes
--------------

A few pages
    Michael Kerrisk
        ERRORS: correct alphabetic order

A few pages
    Michael Kerrisk
        Place SEE ALSO entries in correct order

A few pages
    Michael Kerrisk
        Arrange .SH sections in correct order

Various pages
    Michael Kerrisk
        Fix EBADF error description
            Make the description of the EBADF error for invalid 'dirfd' more
            uniform. In particular, note that the error only occurs when the
            pathname is relative, and that it occurs when the 'dirfd' is
            neither valid *nor* has the value AT_FDCWD.

Various pages
    Michael Kerrisk
        ERRORS: combine errors into a single alphabetic list
            These pages split out extra errors for some APIs into a separate
            list.  Probably, the pages are easier to ready if all errors are
            combined into a single list.

            Note that there still remain a few pages where the errors are
            listed separately for different APIs. For the moment, it seems
            best to leave those pages as is, since the error lists are
            largely distinct in those pages.

VArious pages
    Michael Kerrisk
        Terminology clean-up: "mount point" ==> "mount"
            Many times, these pages use the terminology "mount point", where
            "mount" would be better. A "mount point" is the location at which
            a mount is attached. A "mount" is an association between a
            filesystem and a mount point.

accept.2
access.2
getpriority.2
mlock.2
    Michael Kerrisk
        ERRORS: combine errors into a single list
            These pages split out errors into separate lists (perhaps per API,
            perhaps "may" vs "shall", perhaps "Linux-specific" vs
            standard(??)), but there's no good reason to do this.  It makes
            the error list harder to read, and is inconsistent with other
            pages. So, combine the errors into a single list.

fanotify_mark.2
futimesat.2
mount_setattr.2
statx.2
symlink.2
mkfifo.3
    Michael Kerrisk
        Refer the reader to openat(2) for explanation of why 'dirfd' is useful

Various pages
    Thomas Voss  [Alejandro Colomar]
        Consistently use '*argv[]'


Changes to individual pages
---------------------------

iconv.1
iconvconfig.8
    Michael Kerrisk  [Christopher Yeleighton]
        FILES: note that files may be under /usr/lib64 rather than /lib/64
            See https://bugzilla.kernel.org/show_bug.cgi?id=214163

ldd.1
    Alejandro Colomar  [EmanueleTorre]
        Fix example command

add_key.2
keyctl.2
request_key.2
    Michael Kerrisk  [Dominique Brazziel]
        Note that the "libkeyutils" package provides <keyutils.h>
            See https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=992377

close_range.2
    Michael Kerrisk, Alejandro Colomar
        Glibc 2.34 has added a close_range() wrapper

execve.2
    Michael Kerrisk  [Nora Platiel]
        The pathname given to interpreter is not necessarily absolute
    Michael Kerrisk
        SEE ALSO: getauxval(3)
            getauxval(3) is useful background regarding execve(2).

fanotify_mark.2
    Michael Kerrisk
        ERRORS: add missing EBADF error for invalid 'dirfd'

ioctl_tty.2
    Pali Rohár  [Alejandro Colomar]
        Update DTR example
            Do not include unused (and incompatible) header file termios.h and
            include required header files for puts() and close() functions.

mount.2
    Michael Kerrisk
        ERRORS: add EPERM error for case where a mount is locked
            Refer the reader to mount_namespaces(7) for details.
    Michael Kerrisk
        SEE  ALSO: add mount_setattr(2)

open.2
    Michael Kerrisk
        Explicitly describe the EBADF error that can occur with openat()
            In particular, specifying an invalid file descriptor number
            in 'dirfd' can be used as a check that 'pathname' is absolute.
    Michael Kerrisk
        Clarify that openat()'s dirfd must be opened with O_RDONLY or O_PATH
    Michael Kerrisk
        Add mount_setattr(2) to list of 'dirfd' APIs

open_by_handle_at.2
    Michael Kerrisk
        ERRORS: add missing EBADF error for invalid 'dirfd'

readv2.2
    Will Manley  [Alejandro Colomar]
        Note preadv2(..., RWF_NOWAIT) bug in BUGS section

readv.2
pipe.7
    Michael Kerrisk  [наб]
        Make text on pipe writes more general to avoid a confusion in writev(2)

seccomp.2
    Eric W. Biederman  [Kees Cook]
        Clarify that bad system calls kill the thread (not the process)

syscalls.2
    Michael Kerrisk
        Add quotactl_fd(); remove quotactl_path()
            quotactl_path() was never wired up in Linux 5.13.
            It was replaced instead by quotactl_fd(),
    Michael Kerrisk
        Add system calls that are new in 5.13

umount.2
    Michael Kerrisk
        ERRORS: add EINVAL for case where mount is locked

wait.2
    Richard Palethorpe  [Alejandro Colomar]
        Add ESRCH for when pid == INT_MIN
    Michael Kerrisk
        ERRORS: document EAGAIN for waitid() on a PID file descriptor

getaddrinfo.3
    Alejandro Colomar  [Cristian Morales Vega]
        Note that 'errno' is set in parallel with EAI_SYSTEM

getauxval.3
    Michael Kerrisk
        SEE ALSO: add execve(2)

getopt.3
    James O. D. Hunt  [Alejandro Colomar]
        Further clarification of 'optstring'

pthread_setname_np.3
    Michael Kerrisk  [Alexis Wilke]
        EXAMPLES: remove a bug by simplifying the code

strlen.3
wcslen.3
    Michael Kerrisk  [Alejandro Colomar, Jonny Grant]
        Recommend alternatives where input buffer might not be null-terminated

strstr.3
    Alejandro Colomar  [Stefan Kanthak]
        Document special case for empty needle

termios.3
    Pali Rohár  [Alejandro Colomar]
        SPARC architecture has 4 different Bnnn constants
    Pali Rohár  [Alejandro Colomar]
        Add information how to set baud rate to any other value
    Pali Rohár  [Alejandro Colomar]
        Use bold style for Bnn and EXTn macro constants
    Pali Rohár  [Alejandro Colomar]
        Document missing baud-rate constants

tsearch.3
    Michael Kerrisk
        NAME: add twalk_r

wcstok.3
    Jakub Wilk
        Fix type mismatch in the example

proc.5
    Michael Kerrisk
        Add /proc/PID/projid_map, referring reader to user_namespaces(7)
    Michael Kerrisk
        Remove duplicated /proc/[pid]/gid_map entry

mount_namespaces.7
    Michael Kerrisk
        Terminology clean-up: "mount point" ==> "mount"
            Many times, this page uses the terminology "mount point", where
            "mount" would be better. A "mount point" is the location at which
            a mount is attached. A "mount" is an association between a
            filesystem and a mount point.
    Michael Kerrisk
        SEE ALSO: add mount_setattr(2)

namespaces.7
    Štěpán Němec  [Alejandro Colomar]
        Fix confusion caused by text reorganization

path_resolution.7
    Michael Kerrisk  [Askar Safin]
        Improve description of trailing slashes
            See https://bugzilla.kernel.org/show_bug.cgi?id=212385

posixoptions.7
    Alejandro Colomar  [Alan Peakall]
        Fix legacy functions list (s/getcwd/getwd/)

user_namespaces.7
    Kir Kolyshkin  [Alejandro Colomar]
        Fix a reference to a kernel document
    Michael Kerrisk  [Eric W. Biederman]
        Add a definition of "global root"

vdso.7
    Michael Kerrisk  [Christophe Leroy]
        Update CLOCK_REALTIME_COARSE + CLOCK_MONOTONIC_COARSE info for powerpc
    Alejandro Colomar  [Christophe Leroy]
        Add y2038 compliant gettime for ppc/32
