==================== Changes in man-pages-3.66 ====================

Released: 2014-05-08, Munich


Contributors
------------

The following people contributed patches/fixes or (noted in brackets
in the changelog below) reports, notes, and ideas that have been
incorporated in changes in this release:

Alan Curry <rlwinm@sdf.org>
Carsten Andrich <carsten.andrich@tu-ilmenau.de>
Daniel Borkmann <dborkman@redhat.com>
David Prévot <taffit@debian.org>
Eric Siegerman <pub08-knl@davor.org>
Heinrich Schuchardt <xypron.glpk@gmx.de>
Jan Kara <jack@suse.cz>
Jan Moskyto Matejka <mq@suse.cz>
John Marshall <jm18@sanger.ac.uk>
Lukáš Czerner <lczerner@redhat.com>
Manfred Spraul <manfred@colorfullife.com>
Michael Kerrisk <mtk.manpages@gmail.com>
Miklos Szeredi <miklos@szeredi.hu>
Neil Horman <nhorman@tuxdriver.com>
Peng Haitao <penght@cn.fujitsu.com>
Peter Schiffer <pschiffe@redhat.com>
Randy Dunlap <rdunlap@infradead.org>
Silvan Jegen <s.jegen@gmail.com>
Simon Paillard <spaillard@debian.org>
Stefan Puiu <stefan.puiu@gmail.com>
Steven Stewart-Gallus <sstewartgallus00@mylangara.bc.ca>
Stijn Hinterding <contact@stijnhinterding.nl>
Willem de Bruijn <willemb@google.com>
Yuri Kozlov <yuray@komyakino.ru>

Apologies if I missed anyone!


New and rewritten pages
-----------------------

fanotify_init.2
    Heinrich Schuchardt, Michael Kerrisk
        New page documenting fanotify_init(2)

fanotify_mark.2
    Heinrich Schuchardt, Michael Kerrisk
        New page documenting fanotify_mark(2)

sched_setscheduler.2
    Michael Kerrisk
        Page rewritten
            Stripped out the general scheduling material, which
            moved to sched(7), and rewrote much of the remainder.
            Changed copyright and license since pretty much all
            of the content was or is written by mtk.

fanotify.7
    Heinrich Schuchardt, Michael Kerrisk
        New page providing overview of the fanotify API

sched.7
    Michael Kerrisk
        New page providing an overview of the scheduling APIs
            Most of this content derives from sched_setscheduler(2). In
            preparation for adding a sched_setattr(2) page, it makes
            sense to isolate out this general content to a separate
            page that is referred to by the other scheduling pages.

Newly documented interfaces in existing pages
---------------------------------------------

fallocate.2
    Lukas Czerner [Michael Kerrisk]
        Document FALLOC_FL_ZERO_RANGE
            FALLOC_FL_ZERO_RANGE was added in Linux 3.14,
            for zeroing ranges in the allocated space in a file.

rename.2
    Miklos Szeredi [Michael Kerrisk]
        Document renameat2()
            Some light edits to this patch by mtk.

shmop.2
    Michael Kerrisk
        Document SHM_EXEC


Changes to individual pages
---------------------------

fallocate.2
    Michael Kerrisk
        Employ term "open file description" in DESCRIPTION
            And include reference to open(2) for an explanation of the term.

getpriority.2
    Michael Kerrisk
        SEE ALSO: add sched(7)

getsockopt.2
    Carsten Andrich
        SEE ALSO: add packet(7)

link.2
    Michael Kerrisk  [Steven Stewart-Gallus]
        Document ENOENT error for linkat()
            See https://bugzilla.kernel.org/show_bug.cgi?id=73301

msgget.2
    Michael Kerrisk
        Reword EEXIST error

msgop.2
    Michael Kerrisk
        Note capability required to raise MQ size beyond MSGMNB

msync.2
    Michael Kerrisk  [Heinrich Schuchardt]
        s/flushes... back to disk/flushes... back to filesystem/

nice.2
    Michael Kerrisk
        SEE ALSO: add sched(7)

open.2
    Peter Schiffer
        Update note on alignment of user buffer and file offset for O_DIRECT
            The sentence in open(2) man page in notes for O_DIRECT flag:

                "Under Linux 2.6, alignment to 512-byte boundaries suffices."

            is not universally correct. The alignment is a property of the
            storage, for example, 4k-sector drives with no 512 byte sector
            emulation will be unable to perform 512-byte direct I/O.
    Michael Kerrisk
        Note some of the various synonyms for "open file description"
    Michael Kerrisk
        Remove repetitious text on use of fcntl() to change file status flags

open_by_handle_at.2
    Michael Kerrisk
        Mention FreeBSD analogs

posix_fadvise.2
    Michael Kerrisk  [Eric Siegerman]
        Fix wording error under "Architecture-specific variants"
            See https://bugzilla.kernel.org/show_bug.cgi?id=75431

process_vm_readv.2
    Michael Kerrisk  [Stijn Hinterding]
        Add feature test macro requirements
            The _GNU_SOURCE FTM must be defined.

read.2
    Michael Kerrisk
        BUGS: detail nonatomicity bug with respect to file offset updates
            This bug was fixed in Linux 3.14, with commit
            9c225f2655e36a470c4f58dbbc99244c5fc7f2d4
            See also http://thread.gmane.org/gmane.linux.kernel/1649458

sched_get_priority_max.2
    Michael Kerrisk
        Small changes consistent with migration of content to sched(7)

sched_rr_get_interval.2
    Michael Kerrisk
        Small changes consistent with migration of content to sched(7)

sched_setaffinity.2
    Michael Kerrisk
        Small changes consistent with migration of content to sched(7)

sched_setparam.2
    Michael Kerrisk
        Small changes consistent with migration of content to sched(7)

sched_yield.2
    Michael Kerrisk
        Small changes consistent with migration of content to sched(7)

semget.2
    Michael Kerrisk
        Consolidate discussion on noninitialization of semaphores
            The fact that semget() does not initialize the semaphores
            in a new set was covered in two places (in DESCRIPTION
            and BUGS). Consolidate these into one place (in NOTES)
            and also point out that POSIX.1-2008 says that a future
            version of the standard may require an implementation to
            initialize the semaphores to 0.
    Michael Kerrisk
        Clarify SEMMNS versus SEMMSL*SEMMNI
    Michael Kerrisk
        Rework EINVAL text a little
    Michael Kerrisk
        Clarify wording for EEXIST error

shmget.2
    Manfred Spraul
        Clarify SHMALL
            The default for SHMALL is a limit of 8 GB, regardless of
            PAGE_SIZE. The current documentation does not mention that
            and is therefore more difficult to understand than necessary.
    Manfred Spraul
        Correct math error
            2097152 is 2^21, not 2^20.
    Michael Kerrisk
        Reword EEXIST error
    Michael Kerrisk
        Clarify one of the EINVAL cases
    Michael Kerrisk
        Note that SHM_NORESERVE is a Linux extension
    Michael Kerrisk  [Simon Paillard]
        Fix kernel version numbers in discussion of SHMALL
    Michael Kerrisk
        Rework EINVAL text
    Michael Kerrisk
        Move and rework discussion of mode bits
    Michael Kerrisk
        Reword description of O_EXCL

shmop.2
    Michael Kerrisk
        Move fork(2), execve(2), _exit(2) discussion to NOTES
    Michael Kerrisk
        Add subheads for shmat() and shmdt()
    Michael Kerrisk
        Rework discussion of SHM_RDONLY and SHM_REMAP into list format
    Michael Kerrisk
        Structure the attach cases as a list

sigaction.2
    Alan Curry
        Fix bad cross reference (times(2) not time(2))
            The system call that reports child CPU usage is times(2),
            not time(2).

symlink.2
    Michael Kerrisk  [Steven Stewart-Gallus]
        Document ENOENT error for symlinkat()
            See https://bugzilla.kernel.org/show_bug.cgi?id=73301

syscalls.2
    Michael Kerrisk
        Add renameat2()
            And bump kernel version.

write.2
    Michael Kerrisk
        BUGS: detail nonatomicity bug with respect to file offset updates
            This bug was fixed in Linux 3.14, with commit
            9c225f2655e36a470c4f58dbbc99244c5fc7f2d4
            See also http://thread.gmane.org/gmane.linux.kernel/1649458

pthread_attr_setinheritsched.3
    Peng Haitao
        ATTRIBUTES: Note functions that are thread-safe
            The functions pthread_attr_setinheritsched() and
            pthread_attr_getinheritsched() are thread safe.

pthread_attr_setschedparam.3
    Peng Haitao
        ATTRIBUTES: Note functions that are thread-safe
            The functions pthread_attr_setschedparam() and
            pthread_attr_getschedparam() are thread safe.

pthread_attr_setschedpolicy.3
    Peng Haitao
        ATTRIBUTES: Note functions that are thread-safe
            The functions pthread_attr_setschedpolicy() and
            pthread_attr_getschedpolicy() are thread safe.

pthread_attr_setscope.3
    Peng Haitao
        ATTRIBUTES: Note functions that are thread-safe
            The functions pthread_attr_setscope() and pthread_attr_getscope()
            are thread safe.

pthread_attr_setstack.3
    Peng Haitao
        ATTRIBUTES: Note functions that are thread-safe
            The functions pthread_attr_setstack() and pthread_attr_getstack()
            are thread safe.

sched_getcpu.3
    Michael Kerrisk
        SEE ALSO: add sched(7)

termios.3
    Michael Kerrisk  [Yuri Kozlov]
        Rework intro text for 'c_oflag'
    Michael Kerrisk
        OFDEL is in POSIX.1-2001, so remove "(Not in POSIX)" text

proc.5
    Jan Moskyto Matejka  [Randy Dunlap]
        Improve description of /proc/stat 'intr' field
            The sum at the beginning of line "intr" includes also
            unnumbered interrupts.

packet.7
    Carsten Andrich  [Neil Horman]
        Improve sockopt documentation for packet sockets
    Carsten Andrich  [Willem de Bruijn]
        PACKET_LOSS has inverse meaning
    Stefan Puiu  [Daniel Borkmann, Carsten Andrich]
        Status in PACKET_RX_RING is actually a bit mask
    Michael Kerrisk  [Carsten Andrich]
        SEE ALSO: add /tools/testing/selftests/net/psock_tpacket.c
